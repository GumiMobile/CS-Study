# Index 2 (Primary Index vs Secondary Index, Composite index)
## 이유진
### Primary Index vs Secondary Index
#### Primary Index (기본 인덱스)
기본키를 포함하는 인덱스 (키의 순서가 레코드의 순서를 결정지음)

#### Secondary Index (보조 인덱스)
기본 인덱스 이외의 인덱스 (키의 순서가 레코드의 순서를 의미하지는 않음)
- 다른 인덱스를 돕는 보조 인덱스다. 
- 보조 인덱스는 데이터 파일 내 레코드의 위치를 결정짓지는 않는다.

### Composite Index (결합 인덱스)
> 인덱스를 생성할 때 두 개 이상의 컬럼을 합쳐서 인덱스를 만드는 것
- `WHERE`절의 조건 컬럼이 2개 이상 `AND`로 연결되어 함께 사용되는 경우에 많이 사용
- 두 개 이상의 조건이 `OR`로 조회되는 경우 결합 인덱스를 만들면 안 된다.
- 결합 인덱스를 구성할 때는 컬럼의 순서가 중요하다!
    [예시] 100명의 사원 중 성별이 'Male'이고 이름이 'KIM'인 경우 출력
    1) 성별->이름 : 100건 중 'Male' 50건을 찾아내고, 그 중 'KIM'을 검사함 => 2건
    2) 이름->성별 : 100건 중 'KIM' 5건을 찾아내고, 그 중 'Male'을 검사함 => 2건
    2번이 첫번째 조건에서 많은 데이터를 걸러내서 두 번째 검사할 때 효율성이 높다.

## 김민수

### Primary Index

기본 인덱스는 정렬된 데이터에서 pk를 바탕으로 정의되고 데이터 정렬 순서에 맞춰 정렬된다. 기본 인덱스는 두 필드로 이뤄진 정렬된 데이터이다. 첫번째 필드는 pk를 복사하고 정렬된 데이터의 순서로 정렬 된다. 두번째 필드는 실제 데이터를 가르키는 포인터이다. 각 블럭의 첫번째 레코드는 앵커 레코드 혹은 블럭 앵커라 한다.

<img src="https://codingexplained.com/wp-content/uploads/2012/05/primary-index1.jpg" style width="700"/>

### Secondary Index

보조 인덱스는 기본 인덱스 이외의 인덱스이다. 보조 인덱스는 탐색 키 값에 따라 정렬되지 않은 데이터 파일에 대해 정의된다. 보조 인덱스는 일반적으로 밀집 인덱스이므로,  기본 인덱스를 사용하는 경우보다 디스크 접근 횟수가 증가한다.

### Composite Index

결합 인덱스는 인덱스를 생성할 때 두개 이상의 컬럼을 합쳐 만든다. 주로 WHERE절 조건에 AND를 사용하는 경우 생성한다.

``` sql
SELECT *
FROM emp
WHERE name = "Aron"(150/1000건) AND gender = "M"(550/1000건)
```

위 예시에서 이름과 성별을 조건으로 한다. 이때, 많은 데이터를 걸러 낼 수 있는 조건 순서로 결합인덱스를 구성한다. 아래는 이름과 성별 순서대로 결합 인덱스를 생성하는 예시이다.

``` sql
CREATE INDEX idx_emp_comp
ON emp( name, gender );
```

## 이수형

### Primary Index vs Secondary Index

Primary Index

- 테이블당 하나만 생성가능
- record가 정렬된 field에 대한 index
- 행 데이터를 인덱스로 지정한 열에 맞춰서 자동으로 정렬함

Secondary index

- 테이블당 여러개 생성가능
- 정렬되지 않은 field에 대한 인덱스
- Primary Index 의 추가적인 보조기능 제공

Composite Index

인덱스를 생성할때 두개 이상의 컬럼을 합쳐서 인덱스를 생성하는것<br/>
WHERE절의 조건 컬럼이 2개 이상 AND로 연결되어 함께 사용되는 경우에 많이 사용

## 우지현

### Primary Index (기본 인덱스)

- 기본키를 포함하는 인덱스
- 키의 순서가 레코드의 순서를 결정짓는다.

### Secondary Index (보조 인덱스)

- 기본 인덱스 외의 인덱스
- 키의 순서가 레코드의 순서를 의미하지는 않는다.

### Composite Index (결합 인덱스)

- 두 개 이상의 컬럼을 합쳐서 만든 인덱스
- 단일 컬럼으로는 나쁜 분포도를 가지지만 여러 개의 컬럼을 합친다면 좋은 분포도를 가진다.
- WHERE절에서 AND 조건에 많이 사용되는 컬럼들을 결합 인덱스로 구성한다.



## 윤기재
### Primary Key
- 테이블의 하나의 레코드를 대표하는 컬럼 값으로 만들어진 인덱스이다.
- 이 컬럼 값은 하나의 레코드를 식별할 수 있는 식별자로 불린다.
- NULL 과 중복을 허용하지 않는다.


### Secondary Key
- Primary Key를 제외한 나머지 모든 인덱스를 Secondary Index라고 한다.
- 키의 순서가 레코드의 순서를 의미하지는 않는다.
- 테이블당 여러개 가질수있다.
- Primary Key 이외에 필요한 정렬 기준이 있을 경우 사용한다.


### Composite Index (결합인덱스)
- 인덱스를 생성할때 두개이상의 컬럼을 합쳐서 인덱스를 만드는것
- 주로 SQL 문장에서 WHERE절의 조건 컬럼이 2개 이상 AND로 연결되어 함께 사용되는 경우에 많이 사용하게 된다.
- 다른 테이블과 조인의 연결고리로 자주 사용되는 컬럼들로 인덱스를 구성할수있다.

### Composite Index 장점
- 나쁜분포도를 가진 Column을 결합하면 더 좋은 분포도로 개선할수있다.
- 저장공간의 효율성이 좋아진다.

# 멀티쓰레드 (장점, 단점)

### 이수형

멀티쓰레드 장점

- 응답성
  - 프로그램의 일부 쓰레드가 중단되거나 긴 작업을 수행시에도 수행이 종료되지않고 계속되어 사용자에 대한 응답성 증가 
  - ex)하나의 쓰레드가 이미지를 로드해도 다른쓰레드에서 사용자와 상호작용 가능
<br/><br/>
- 경제성
  - 다른 쓰레드들과 메모리를 공유하기때문에 메모리나 시스템 자원소모가 적음
  - 통신이 필요한 경우에 쉽게 데이터를 주고받을수 있음
  - 프로세스의 context 통신과 달리 쓰레드의 context 통신은 캐시 메모리를 비울필요가 없어서 더 빠르다
<br/><br/>
- 멀티프로세서 활용
  - 다중 CPU 구조에서는 각각의 스레드가 다른 프로세서에서 병렬로 수행될 수 있어서 병렬성이 증가함

멀티쓰레드 단점

- 동시접근 문제
  - 둘 이상의 쓰레드가 동시에 접근하는 경우 프로세스와 달리 쓰레드는 메모리를 공유하고 있기 때문에 한 쓰레드가 다른 쓰레드에서 사용중인 변수나 자료구조에 접근하여 엉뚱한 결과를 초래할 수 있다
<br/><br/>
- 동기화 문제
  - 동기화(Mutex, Semaphore)를 통해 작업처리나 메모리 접근을 컨트롤 할 수 있으나 불필요한 부분까지 동기화를 할 경우 과도한 LOCK으로 인해 병목현상을 일으켜 성능이 저하될 수 있다
<br/><br/>
- 싱글코어에서의 문제
  - 싱글코어에서의 멀티쓰레드의 경우 오히려 쓰레드 생성시간이 오버헤드로 작용하여 단일쓰레드보다 느림

Mutex
- 쉽게말해서 Key가 하나뿐인 메커니즘 
- Key를 이용하여 접근컨트롤 Key가 있는 쓰레드만이 자원에 접근가능<br/>
접근이 끝났을때 wait를 호출한 쓰레드만 해제(Key넘기기) 가능 

Semaphore
- 쉽게말해서 Key가 여러개인 메커니즘

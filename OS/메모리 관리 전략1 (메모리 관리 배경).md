# 메모리 관리 전략1 (메모리 관리 배경)

## 김현수

### 메모리 관리 배경

각각의 프로세스는 독립된 메모리 공간을 가진다.
운영체제는 각 프로세스들을 메모리 각각의 공간에 할당하고, 프로세스가 다른 프로세스에 접근하는 것을 막는다.
운영체제만이 운영체제 메모리 영역과 사용자 메모리 영역의 접근에 자유롭다.

### 1. 주소 바인딩
- 주소 바인딩이란 프로세스가 접근해야 하는 값과 함수에 대한 주소가 정해지는 것을 말한다.
- 논리 주소(=가상 주소) : CPU가 명령문을 실행함으로써 발생하는 주소
- 물리 주소: 실제 접근해야 하는 메모리 주소
- 논리 주소와 물리 주소는 프로그램이 실행되는 과정 중 어느 시점에 바인딩이 되는지에 따라 다르다.
	- 컴파일 시점 주소 바인딩 : 컴파일 될 때 컴파일러에서 명령어들과 변수의 메모리 주소가 정해지는 것. `논리 주소 == 물리 주소`
	- 로드 시점 주소 바인딩 : 프로그램이 컴파일 되고 메모리에 올라갈 때 CPU에서 주소 계산이 일어난 후 주소가 발생하는 것. `논리 주소 == 물리 주소`
	- 실행 시점 주소 바인딩 : 매번 명령어가 실행될때마다 주소가 계산되는 것. `논리 주소 != 물리 주소`
	
### 2. Swapping
프로그램은 컴파일 후 메모리에 올리는 로드 과정과, 라이브러리 파일을 연결해주는 링킹 과정을 통해 최종적으로 메모리에 올라간다. 메모리에 올라가서도 지속적으로 메모리 공간을 차지하는 것이 아니라, 운영체제에 의해 swapping되기도 한다.

- 스케줄링의 다중 프로그래밍 환경에서 CPU 할당 시간이 끝난 프로세스의 메모리를 보조기억 장치로 내보내고 다른 프로세스의 메모리를 불러들일 수 있다.
- 주기억장치(RAM)으로 불러오는 과정을 `swap-in`, 보조 기억장치로 내보내는 과정을 `swap-out` 이라고 한다.
- 큰 디스크 전송 시간이 요구되기 때문에 현재엔 메모리 공간이 부족할 때 swapping이 시작된다.
- swap-out된 프로세스가 다시 메모리에 올라갈 때는 원래 있던 자리로 돌아가지 않을 수 있다.

### 3. 단편화 (Fragmentation)

프로세스들이 차지하는 메모리 사이사이에 사용하지 못할 크기의 작은 빈 공간들이 생기는 것.

- 외부 단편화 : 물리 메모리 사이에서 남는 작은 공간들을 모두 합치면 의미 있는 공간이 되지만, 현재는 작은 부분들로 분산되어 있을 때 발생.
- 내부 단편화 : 프로세스가 사용하는 메모리 공간에 포함된 남은 부분. 요구된 메모리 보다 약간 커서 빈 곳이 쓸모는 없지만 비어있는 상태.
- 압축
  - 외부 단편화를 해소하기 위해 프로세스가 사용하는 공간들을 한 쪽으로 몰아 자유공간을 확보하는 방법. 
  - 프로세스들의 재배치가 실행 시간에 동적으로 이루어지는 경우에만 가능하고 작업 효율이 좋지 않다.


## 이수형

### 메모리 관리 배경

각각의 프로세스 는 독립된 메모리 공간을 갖고, 운영체제 혹은 다른 프로세스의 메모리 공간에 접근할 수 없는 제한이 걸려있다.
운영체제 만이 운영체제 메모리 영역과 사용자 메모리 영역의 접근에 제약을 받지 않는다.

### Swapping

프로세스는 실행 중 임시로 예비 저장장치에 보냈다가 다시 메모리로 돌아올 수 있다.

- 주 기억장치(RAM)으로 불러오는 과정 swap-in
- 보조 기억장치로 내보내는 과정 swap-out
- swap 에는 큰 디스크 전송시간이 필요하기 때문에 현재에는 메모리 공간이 부족할때 Swapping 이 시작된다.

### 단편화 (Fragmentation) 

프로세스들이 메모리에 적재되고 제거되는 일이 반복되다보면 메모리 틈 사이에 사용 하지 못할 만큼의 작은 자유공간들이 늘어나는것

- 외부 단편화
  - 메모리 공간 중 사용하지 못하게 되는 일부분. 물리 메모리(RAM)에서 사이사이 남는 공간들을 모두 합치면 충분한 공간이 되는 부분들이 분산되어 있을때 발생한다고 볼 수 있다.
- 내부 단편화
  - 프로세스가 사용하는 메모리 공간 에 포함된 남는 부분. 예를들어 메모리 분할 자유 공간이 10,000B 있고 Process A 가 9,998B 사용하게되면 2B 라는 차이 가 존재하고, 이 현상을 내부 단편화라 칭한다. 
- 압축 
  - 외부 단편화를 해소하기 위해 프로세스가 사용하는 공간들을 한쪽으로 몰아, 자유공간을 확보하는 방법론 이지만, 작업효율이 좋지 않다.

## 가상 메모리 (페이지 교체 알고리즘)

## 이수형

### 페이지 교체 알고리즘

가상 메모리는 요구 페이지 기법을 통해 필요한 페이지만 메모리에 적재하고 사용하지 않는 부분은 그대로 두지만 필요한 페이지만 올려도 메모리는 결국 가득 차게 되고, 올라와있던 페이지가 사용이 다 된 후에도 자리만 차지하고 있을 수 있음<br/>
이때 상황에 맞는 페이지 교체를 진행하기 위해 알고리즘이 존재함.<br/>
일반적으로는 페이지 부재율이 가장 낮은 것을 선정 하는 알고리즘을 사용

1. FIFO(First In First Out)

   가장 먼저 메모리에 올라온 페이지부터 먼저 내보냄

   특히 초기화 단계에서 적절한 방법

   단점
   - 가장 오래 있었던 페이지는 앞으로 계속 사용될 가능성이 있음.

   - 즉 페이지 부재율이 높아질수 있어 효율이 많이 떨어질 수 있음

   - Belady의 모순 발생

   > Belady 의 모순 : 많은 프레임을 할당해 주었는데도 불구하고 반대로 페이지 부재율이 더 증가하는 현상

2. OPT(Optimal Page Replacement)

   가장 사용하지 않을 페이지를 먼저 내보냄

   단점

   - 참조될 가능성이 많음에도 불구하고 횟수에 의한 방법이므로 최근에 사용된 프로그램을 교체시킬 가능성이 있고, 해당 횟수를 증가시키므로 오버헤드 발생

   - 실질적으로 이 페이지가 잘 사용될지 말지에 대한 판단이 어려워서 사용하기 어려운 알고리즘


3. LRU(Least-Recently-Used)

   가장 오랫동안 사용되지 않은 페이지를 먼저 내보냄

   실제로 최근에 사용하지 않은 페이지는 앞으로 사용하지 않을 확률이 높다는 것에서 착안<br/>
   OPT는 미래를 예측해야하지만 LRU는 과거를 보고 판단<br/>
   시간의 지역성, 공간의 지역성에 기반

   > 시간의 지역성 : 현재 참조된 기억장소는 미래에도 계속 참조될 가능성이 높음
   > 공간의 지역성 : 하나의 메모리가 참조되면 근처의 기억장소가 계속 참조될 가능성이 높음

   단점

   - 프로세스가 주기억장치에 접근할 때마다 참조된 페이지에 대한 시간을 기록해야함. 큰 오버헤드가 발생

   - 경험적 판단이 맞지 않는 상황도 존재

4. LFU(Least Frequently Used)

   가장 오랫동안 참조되지 않은 페이지를 먼저 내보냄

   단점
   - 가장 최근에 메모리로 옮겨진 페이지가 교체될 가능성이 높음

   - 프로세스가 주기억장치에 접근할 때마다 참조된 페이지에 대한 횟수를 기록해야함. 큰 오버헤드가 발생


5. NUR(Not Used Recently)

   참조 여부와 수정여부에 따라 우선순위를 결정해 적절한 페이지를 교체

   LRU와 유사하면서 실제로 자주 쓰이는 방법

6. second chance

   FIFO기법과 LFU에 따라 우선순위를 결정해 적절한 페이지를 교체

   > 이를 원형 큐를 이용하면 Clock 기법


# 함수형 프로그래밍이란

### 김현수

### 함수형 프로그래밍(FP: Functional Programming)

프로그래밍 패러다임(Programming Paradigm)은 프로그래머에게 프로그래밍의 관점을 갖게 하고 코드를 어떻게 작성할지 결정하는 역할을 한다.
<br>
함수형 프로그래밍(FP)은 순수 함수(pure function)를 조합하고 공유 상태(shared state), 변경 가능한 데이터(mutable data) 및 부작용(side-effects)을 피하는 기본 원칙에 따라 소프트웨어를 구성하는 프로그래밍 패러다임이다.
<br>

> 객체지향은 동작하는 부분을 캡슐화해서 이해할 수 있게 하고, 함수형 프로그래밍은 동작하는 부분을 최소화해서 코드 이해를 돕는다. (마이클 페더스‘레거시 코드 활용 전략’)
<br>
함수형 프로그래밍은 명령형이 아닌 선언적 방식으로 구현되며 흐름 제어를 명시적으로 기술하지 않고 프로그램 로직이 표현된다는 것을 의미한다.
- 명령형 프로그램은 원하는 결과를 얻기 위해 특정 단계를 설명하는 코드 라인을 사용.
	- for, if 에 따른 로직과 특정기능의 메서드 호출(명령)하는 형식.
- 선언적 프로그램은 흐름 제어를 추상화하고 데이터 흐름을 설명하는 코드 라인을 사용.
	- 데이터가 입력으로 주어지고 데이터를 다루는 과정(흐름)을 정의하는 형식.
	<br>

### 1급 객체(First object, First class citizen)
1급 함수라고도 하며 함수형 프로그래밍의 전제 조건이기도 하다. 일반적으로 다음과 같은 조건을 만족하는 객체를 말한다.

- 변수나 데이터 구조안에 넣을 수 있다.
- 파라미터로 전달할 수 있다.
- 동적으로 프로퍼티 할당이 가능하다.
- 리턴값으로 사용할 수 있다.

이 개념은 자바스크립트를 배울 때 많이 나온다. 자바스크립트의 경우 함수는 객체이므로 함수가 1급 객체가 되는 것이며, 자바의 경우 함수형 인터페이스(추상메서드가 하나인 인터페이스)를 통해 구현이 가능하다.
<br>
### 함수형 프로그래밍 조건

**1. 순수 함수(pure function)**

순수 함수란 같은 입력에 대해 항상 같은 출력을 반환하는 함수로 다음과 같은 조건을 만족한다. 멀티쓰레드에서도 안전하고 병렬처리 및 계산도 가능하다.

- 동일한 입력에 대해 항상 같은 값을 반환.
- 부작용(다른 요인에 따른 결과변경)이 없는 결과를 생성.
	- 함수에서 인자를 변경하거나 프로그램의 상태를 변경하지 않음.
	<br>

**2. 고차함수(High Order Function)**

1급 함수의 서브으로 다음 조건을 만족하는 함수를 말한다.

- 함수의 인자로 함수를 전달할 수 있다.
- 함수의 리턴값으로 함수를 사용할 수 있다.
<br>

**3. 익명 함수(Anonymous function)**

이름이 없는 함수, 즉 람다식으로 표현되는 함수 구현을 말한다.

<br>
합성 함수(function composition)는 새로운 함수를 만들거나 계산하기 위해 둘 이상의 함수를 조합하는 것으로, 데이터가 흐르도록 일련의 파이프라인을 형성하는 개념이다. 함수형 프로그램은 작은 단위의 순수 함수들로 구성되어 있기 때문에 이 함수들을 연속적 혹은 병렬로 호출해서 더 큰 함수를 만드는 과정으로 프로그램이 구성되어야 한다.

실제 구현상에는 메서드 체이닝 방식으로 함수들을 연결해 사용하는 형태로 나타난다.

### 우지현

#### 함수형 프로그래밍 (Functional Programming)

![프로그래밍 패러다임의 변화](https://user-images.githubusercontent.com/6733004/46247710-5ce5fb00-c44a-11e8-9400-16dd44626820.png)

함수형 프로그래밍이란 순수 함수(pure function)를 조합하고 공유 상태(shared state), 변경 가능한 데이터(mutable data) 및 부작용(side-effects)을 피해 소프트웨어를 만드는 프로세스이다. '선언형' 프로그래밍으로, 애플리케이션의 상태는 순수 함수를 통해 전달된다. 함수형 프로그래밍은 애플리케이션의 상태가 일반적으로 공유되고 객체의 메서드와 함께 배치되는 OOP와는 대조되는 프로그래밍 방식이다. 함수형 프로그래밍의 가장 큰 특징 두 가지는 immutable data와 first class citizen으로서의 function이다.

함수형 코드는 익숙하지 않으면 더 복잡해보이고 이해하기 어렵지만 명령형 프로그래밍이나 OOP 코드보다 더 간결하고 예측가능하여 테스트하는 것이 쉽다. 함수형 프로그래밍은 프로그래밍 언어나 방식을 배우는 것이 아닌, 함수로 프로그래밍하는 사고를 배우는 것이다. 즉, 기존의 사고방식을 전환하여 다양한 사고방식으로 프로그래밍을 바라보면 더욱 유연한 문제해결이 가능해진다.

> 최근의 프로그래밍 패러다임
>
> 💡 명령형(imperative) 프로그래밍 (절차지향, 객체지향)
>      상태와 상태를 변경시키는 관점에서 연산을 설명하는 방식.
>      알고리즘을 명시하고 목표는 명시하지 않는다.
>
> 💡 선언형(declarative) 프로그래밍
>      How보다는 What을 설명하는 방식.
>      알고리즘을 명시하지 않고 목표만 명시한다.
>
> 명령형 프로그래밍은 어떻게 할지 표현하고, 선언형 프로그래밍은 무엇을 할건지 표현한다.

#### 함수형 프로그래밍에 필요한 개념

##### 1급 객체 (First Class Object, 1급 시민/First Class Citizen)

함수형 프로그래밍 패러다임을 따르고 있는 언어에서의 함수(function)는 1급 객체(first class citizen)로 간주된다.  1급 객체는 다음 조건을 만족한다.

- 변수나 데이터 구조 안에 함수를 담을 수 있어서 함수의 파라미터로 전달할 수 있고, 함수의 반환값으로 사용할 수 있다.
- 할당에 사용된 이름과 관계없이 고유한 구별이 가능하다.
- 함수를 리터럴로 바로 정의할 수 있다.

##### 고차 함수 (High-Order Function)

람다 계산법에서 만들어진 용어로 다음 조건을 만족하는 함수

- 함수에 함수를 파라미터로 전달할 수 있다.
- 함수의 반환값으로 함수를 사용할 수 있다.

##### 불변성 (Immutability)

- 함수형 프로그래밍에서는 데이터가 변할 수 없는데, 이를 불변성 데이터(immutable data)라고 한다.
- 데이터 변경이 필요한 경우, 원본 데이터 구조를 변경하지 않고 그 데이터의 복사본을 만들어 일부를 변경하고, 변경한 복사본을 이용해 작업을 진행한다.

##### 순수 함수 (Pure Function)

함수형 프로그래밍에 필요한 개념으로 다음 조건을 만족하는 함수

- 동일한 입력에는 항상 같은 값을 반환해야 한다.
- 함수의 실행은 프로그램의 실행에 영향을 미치지 않아야 한다. (side effect가 없어야 함)

##### 합성 함수 (Function composition)

새로운 함수를 만들거나 계산하기 위해 둘 이상의 함수를 조합하는 과정. 

함수형 프로그램은 여러 작은 순수 함수들로 이루어져 있기 때문에 이 함수들을 연쇄적으로 또는 병렬적으로 호출해서 더 큰 함수를 만드는 과정으로 전체 프로그램을 구축해야 한다.


### 이수형

### 함수형 프로그래밍

- 거의 모든것을 순수 함수로 나누어 문제를 해결하는기법
- 가독성을 높이고 유지보수를 용이하게 해줌

### 특징

- Side effect가 없는 순수함수를 1급객체로 간주하여 파라미터로 넘기거나 리턴값으로 사용, 참조 투명성이 생김

### 순수함수

- 함수의 실행이 외부에 영향을 끼치지 않는 함수
- 메모리나 입출력의 관점에서 Side Effect가 없는 함수
- Thread의 안정성을 보장받아 병렬처리를 동기화없이 진행할 수 있음

### 1급객체

- 변수나 데이터구조안에 담을수 있는 객체
- 파라미터로 전달가능
- 리턴값으로 사용할 수 있음
- 할당시 사용하는 이름과 무관하게 고유한 구별이 가능

즉 함수형 프로그래밍과 명령형 프로그래밍에서의 함수는 Side Effect의 유무의 차이가 있고 실행결과에 대한 예측이 가능하다는것
함수에 어떤인자 x 를 넣는다면 f는 x에 관해서만 인과성이 생기는것이고 이를통해 부작용을 제거한 기법

